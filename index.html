<!DOCTYPE html>
<html>
<head>
    <style>
        #canvas {
            border: 1px solid black;
        }
    </style>
</head>
<body>

<select id="colorSelect">
    <option value="red">Red</option>
    <option value="yellow">Yellow</option>
    <option value="blue">Blue</option>
    <option value="green">Green</option>
    <option value="orange">Orange</option>
</select>

<canvas id="canvas" width="500" height="500"></canvas>

<button onclick="resetCanvas()">Reset</button>
<button onclick="calculateColor()">Calculate</button>

<script>
    var canvas = document.getElementById('canvas');
    var ctx = canvas.getContext('2d');
    var colorSelect = document.getElementById('colorSelect');

    var painting = false;
    var color = 'black';

    function startDraw(e) {
        painting = true;
        draw(e);
    }

    function endDraw() {
        painting = false;
        ctx.beginPath();
    }

    function draw(e) {
        if (!painting) return;
        var x = e.clientX - canvas.offsetLeft;
        var y = e.clientY - canvas.offsetTop;
        var imageData = ctx.getImageData(x, y, 1, 1);
        var data = imageData.data;
        var isWhite = data[0] === 255 && data[1] === 255 && data[2] === 255 && data[3] === 255;
        if (isWhite) {
            ctx.lineWidth = 10;
            ctx.lineCap = 'round';
            ctx.strokeStyle = colorSelect.value;

            ctx.lineTo(x, y);
            ctx.stroke();
            ctx.beginPath();
            ctx.moveTo(x, y);
        }
    }

    function resetCanvas() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
    }

    function calculateColor() {
        // This function currently does nothing
    }

    canvas.addEventListener('mousedown', startDraw);
    canvas.addEventListener('mouseup', endDraw);
    canvas.addEventListener('mousemove', draw);

</script>

</body>
</html>
